<p-table [value]="products" dataKey="name">
  <ng-template pTemplate="header">
    <tr>
      <th>service</th>
      <th>repart</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-product let-expanded="expanded">
    <tr>
      <td>
        <button
          type="button"
          pButton
          pRipple
          [pRowToggler]="product"
          class="p-button-text p-button-rounded p-button-plain"
          [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"
        ></button
        >{{ product.service }}
      </td>
      <td>
        <p-dropdown
          [options]="[]"
          [(ngModel)]="product.repart"
          optionLabel="hola"
        ></p-dropdown>
      </td>
    </tr>
  </ng-template>
  <ng-template pTemplate="rowexpansion" let-product>
    <tr>
      <td colspan="7">
        <div class="p-p-3">
          <p-table
            [value]="product.solutions"
            rowGroupMode="rowspan"
            groupRowsBy="solution"
          >
            <ng-template pTemplate="header">
              <tr>
                <th>solution</th>
                <th>product</th>
                <th>select</th>
                <th>version</th>
                <th>import</th>
                <th>cost</th>
              </tr>
            </ng-template>
            <ng-template
              pTemplate="body"
              let-order
              let-rowgroup="rowgroup"
              let-rowspan="rowspan"
            >
              <tr>
                <td *ngIf="rowgroup" [attr.rowspan]="rowspan">
                  {{ order.solution }}
                </td>
                <td>{{ order.product }}</td>
                <td>
                  <p-checkbox
                    binary="true"
                    [(ngModel)]="order.select"
                    inputId="binary"
                  ></p-checkbox>
                </td>
                <td>
                  <p-dropdown
                    [options]="[]"
                    [(ngModel)]="product.version"
                    optionLabel="hola"
                  ></p-dropdown>
                </td>
                <td>
                  <p-inputNumber [(ngModel)]="order.import"></p-inputNumber>
                </td>
                <td>
                  <p-inputNumber [(ngModel)]="order.cost"></p-inputNumber>
                </td>
              </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
              <tr>
                <td colspan="6">There are no order for this product yet.</td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </td>
    </tr>
  </ng-template>
</p-table>
